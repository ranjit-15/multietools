<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Markdown to HTML - Multietools</title>
	<meta name="description" content="Convert Markdown to HTML with live preview. Free online Markdown-to-HTML converter — no sign-up. Multietools.">
	<meta property="og:title" content="Markdown to HTML - Multietools">
	<meta property="og:description" content="Convert Markdown to HTML with live preview. Free online Markdown-to-HTML converter — no sign-up. Multietools.">
	<meta property="og:type" content="website">
	<link rel="canonical" href="https://ranjit-15.github.io/multietools/htdocs/markdown-to-html.html">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
	<link rel="stylesheet" href="css/global.css">
	<style>
		*{box-sizing:border-box;margin:0;padding:0;}
		body{font-family:'Inter',system-ui,sans-serif;background:var(--bg);color:var(--text);min-height:100vh;padding:1.5rem;transition:background .3s,color .3s;}
		.wrap{max-width:960px;margin:0 auto;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius-lg);box-shadow:var(--shadow-md);overflow:hidden;}
		header{padding:1.75rem;border-bottom:1px solid var(--border);background:var(--primary-glow);}
		h1{font-size:1.8rem;margin-bottom:.35rem;} .muted{color:var(--muted);}
		.back{display:inline-flex;align-items:center;gap:.5rem;color:var(--text);text-decoration:none;font-weight:700;margin-bottom:1rem;}
		main{padding:1.5rem;display:grid;gap:1.25rem;}
		.panel{background:var(--surface);border:1px solid var(--border-light);border-radius:var(--radius-md);padding:1.25rem;box-shadow:var(--shadow-xs);}
		textarea{width:100%;min-height:200px;border-radius:var(--radius-md);border:1px solid var(--border);background:var(--bg-alt);color:var(--text);padding:1rem;font-size:.9rem;font-family:'JetBrains Mono','Cascadia Code',monospace;resize:vertical;}
		.grid{display:grid;gap:1.25rem;grid-template-columns:1fr 1fr;}
		@media(max-width:700px){.grid{grid-template-columns:1fr;}}
		.preview{background:var(--bg-alt);border:1px solid var(--border);border-radius:var(--radius-md);padding:1.25rem;overflow:auto;min-height:200px;line-height:1.65;font-size:.95rem;}
		.preview h1,.preview h2,.preview h3,.preview h4,.preview h5,.preview h6{margin:.6em 0 .3em;line-height:1.3;}
		.preview h1{font-size:1.6em;} .preview h2{font-size:1.35em;} .preview h3{font-size:1.15em;}
		.preview p{margin:.5em 0;} .preview code{background:var(--border-light);padding:.15em .4em;border-radius:4px;font-size:.88em;font-family:'JetBrains Mono',monospace;}
		.preview pre{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius-sm);padding:1em;overflow-x:auto;margin:.6em 0;}
		.preview pre code{background:none;padding:0;}
		.preview blockquote{border-left:4px solid var(--primary);padding:.5em 1em;margin:.5em 0;color:var(--muted);background:var(--bg-alt);}
		.preview table{border-collapse:collapse;width:100%;margin:.6em 0;} .preview th,.preview td{border:1px solid var(--border);padding:.45em .7em;text-align:left;}
		.preview th{background:var(--bg-alt);font-weight:700;}
		.preview img{max-width:100%;border-radius:var(--radius-sm);}
		.preview hr{border:none;border-top:2px solid var(--border);margin:1em 0;}
		.preview ul,.preview ol{padding-left:1.5em;margin:.4em 0;}
		.preview a{color:var(--primary);}
		.row{display:flex;flex-wrap:wrap;gap:.75rem;align-items:center;}
		button{padding:.75rem 1.1rem;border-radius:var(--radius-sm);border:none;cursor:pointer;background:linear-gradient(135deg,var(--primary),var(--primary-light));color:#fff;font-weight:700;font-size:.9rem;box-shadow:var(--shadow-sm);transition:transform .15s ease;}
		button:hover{transform:translateY(-1px);}
		button.secondary{background:var(--bg-alt);color:var(--text);border:1px solid var(--border);}
		label.section{font-weight:700;display:block;margin-bottom:.4rem;}
		.toast{position:fixed;bottom:1.5rem;right:1.5rem;background:var(--primary);color:#fff;padding:.85rem 1.5rem;border-radius:var(--radius-sm);font-weight:600;box-shadow:var(--shadow-lg);transform:translateY(120%);opacity:0;transition:transform .35s var(--ease-bounce,.34 1.56 .64 1),opacity .3s;z-index:9999;pointer-events:none;}
		.toast.show{transform:translateY(0);opacity:1;}
	</style>
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
</head>
<body>
<div class="wrap">
	<header>
		<a class="back" href="tools.html"><i class="fas fa-arrow-left"></i> Back to Tools</a>
		<h1><i class="fas fa-file-code"></i> Markdown to HTML</h1>
		<p class="muted">Live-preview Markdown and copy sanitized HTML output.</p>
	</header>
	<main>
		<div class="grid">
			<div class="panel">
				<label class="section">Markdown</label>
				<textarea id="md" placeholder="# Hello World&#10;&#10;**Bold**, *italic*, `code`&#10;&#10;- List item&#10;- Another item" oninput="render()"></textarea>
			</div>
			<div>
				<label class="section">Preview</label>
				<div class="preview" id="preview"></div>
			</div>
		</div>
		<div class="panel">
			<label class="section">HTML Output</label>
			<textarea id="htmlOut" readonly style="min-height:120px;"></textarea>
			<div class="row" style="margin-top:.5rem;">
				<button onclick="copyHtml()"><i class="fas fa-copy"></i> Copy HTML</button>
			</div>
		</div>
	</main>
</div>

<div class="toast" id="toast"></div>

<script>
function showToast(msg,ms=2200){
	const t=document.getElementById('toast');t.textContent=msg;t.classList.add('show');
	clearTimeout(t._tid);t._tid=setTimeout(()=>t.classList.remove('show'),ms);
}

/* ---- Markdown Parser ---- */
function parseMD(src){
	// Normalize line endings
	src=src.replace(/\r\n/g,'\n');

	// --- Code blocks first (``` ... ```) ---
	src=src.replace(/```(\w*)\n([\s\S]*?)```/g, (_, lang, code) => {
		return `<pre><code class="language-${lang}">${esc(code.replace(/\n$/,''))}</code></pre>`;
	});

	const lines=src.split('\n');
	let html='';
	let inUl=false,inOl=false,inBlockquote=false,inTable=false;
	let tableRows=[];

	function flushTable(){
		if(!inTable) return;
		if(tableRows.length===0){inTable=false;return;}
		let t='<table>';
		tableRows.forEach((row,ri)=>{
			const tag=ri===0?'th':'td';
			const cells=row.split('|').map(c=>c.trim()).filter(c=>c!=='');
			t+='<tr>'+cells.map(c=>`<${tag}>${inline(c)}</${tag}>`).join('')+'</tr>';
		});
		t+='</table>';
		html+=t;
		tableRows=[];inTable=false;
	}

	for(let i=0;i<lines.length;i++){
		let line=lines[i];

		// Skip code blocks already processed (they become <pre> on one line)
		if(line.startsWith('<pre><code')){
			flushTable();
			if(inUl){html+='</ul>';inUl=false;}
			if(inOl){html+='</ol>';inOl=false;}
			if(inBlockquote){html+='</blockquote>';inBlockquote=false;}
			html+=line;
			continue;
		}

		// Horizontal rule
		if(/^(-{3,}|_{3,}|\*{3,})\s*$/.test(line)){
			flushTable();if(inUl){html+='</ul>';inUl=false;}if(inOl){html+='</ol>';inOl=false;}if(inBlockquote){html+='</blockquote>';inBlockquote=false;}
			html+='<hr>';continue;
		}

		// Headers
		const hMatch=line.match(/^(#{1,6})\s+(.+)$/);
		if(hMatch){
			flushTable();if(inUl){html+='</ul>';inUl=false;}if(inOl){html+='</ol>';inOl=false;}if(inBlockquote){html+='</blockquote>';inBlockquote=false;}
			const lvl=hMatch[1].length;
			html+=`<h${lvl}>${inline(hMatch[2])}</h${lvl}>`;continue;
		}

		// Blockquote
		if(line.startsWith('>')){
			flushTable();if(inUl){html+='</ul>';inUl=false;}if(inOl){html+='</ol>';inOl=false;}
			if(!inBlockquote){html+='<blockquote>';inBlockquote=true;}
			html+=`<p>${inline(line.replace(/^>\s?/,''))}</p>`;continue;
		}else if(inBlockquote){html+='</blockquote>';inBlockquote=false;}

		// Unordered list
		if(/^[\-\*]\s+/.test(line)){
			flushTable();if(inOl){html+='</ol>';inOl=false;}
			if(!inUl){html+='<ul>';inUl=true;}
			html+=`<li>${inline(line.replace(/^[\-\*]\s+/,''))}</li>`;continue;
		}else if(inUl && !/^\s/.test(line)){html+='</ul>';inUl=false;}

		// Ordered list
		if(/^\d+\.\s+/.test(line)){
			flushTable();if(inUl){html+='</ul>';inUl=false;}
			if(!inOl){html+='<ol>';inOl=true;}
			html+=`<li>${inline(line.replace(/^\d+\.\s+/,''))}</li>`;continue;
		}else if(inOl && !/^\s/.test(line)){html+='</ol>';inOl=false;}

		// Table (lines containing |)
		if(line.includes('|')&&line.trim().startsWith('|')){
			if(inUl){html+='</ul>';inUl=false;}if(inOl){html+='</ol>';inOl=false;}
			// Separator row? skip
			if(/^\|?\s*[-:]+[-| :]*$/.test(line.trim())){continue;}
			if(!inTable) inTable=true;
			tableRows.push(line.trim().replace(/^\|/,'').replace(/\|$/,''));
			continue;
		}else{flushTable();}

		// Empty line
		if(line.trim()===''){continue;}

		// Paragraph
		html+=`<p>${inline(line)}</p>`;
	}
	if(inUl) html+='</ul>';
	if(inOl) html+='</ol>';
	if(inBlockquote) html+='</blockquote>';
	flushTable();

	return html;
}

function esc(s){return s.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;');}

function inline(text){
	// Images ![alt](url)
	text=text.replace(/!\[([^\]]*)\]\(([^)]+)\)/g,'<img src="$2" alt="$1">');
	// Links [text](url)
	text=text.replace(/\[([^\]]+)\]\(([^)]+)\)/g,'<a href="$2" target="_blank" rel="noopener">$1</a>');
	// Bold **text** or __text__
	text=text.replace(/\*\*(.+?)\*\*/g,'<strong>$1</strong>');
	text=text.replace(/__(.+?)__/g,'<strong>$1</strong>');
	// Italic *text* or _text_
	text=text.replace(/\*(.+?)\*/g,'<em>$1</em>');
	text=text.replace(/_(.+?)_/g,'<em>$1</em>');
	// Inline code `code`
	text=text.replace(/`([^`]+)`/g,'<code>$1</code>');
	return text;
}

/* ---- Sanitize ---- */
function sanitize(html){
	// Remove <script> tags
	html=html.replace(/<script[\s\S]*?<\/script>/gi,'');
	// Remove on* event handlers
	html=html.replace(/\s+on\w+\s*=\s*("[^"]*"|'[^']*'|[^\s>]+)/gi,'');
	// Remove javascript: URLs
	html=html.replace(/href\s*=\s*"javascript:[^"]*"/gi,'href="#"');
	html=html.replace(/href\s*=\s*'javascript:[^']*'/gi,"href='#'");
	html=html.replace(/src\s*=\s*"javascript:[^"]*"/gi,'src=""');
	return html;
}

function render(){
	const md=document.getElementById('md').value;
	const raw=parseMD(md);
	const safe=sanitize(raw);
	document.getElementById('preview').innerHTML=safe;
	document.getElementById('htmlOut').value=safe;
}

function copyHtml(){
	const v=document.getElementById('htmlOut').value;
	if(!v){showToast('Nothing to copy');return;}
	navigator.clipboard.writeText(v).then(()=>showToast('HTML copied!'));
}

// Initial render
render();
</script>
<script src="js/global.js"></script>
</body>
</html>
