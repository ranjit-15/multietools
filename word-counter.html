<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Word Counter - Multietools</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<link rel="stylesheet" href="css/global.css">
<style>
*{box-sizing:border-box;margin:0;padding:0;}
body{font-family:'Inter',system-ui,sans-serif;background:var(--bg);color:var(--text);min-height:100vh;padding:1.5rem;transition:background .3s,color .3s;}
.wrap{max-width:960px;margin:0 auto;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius-lg);box-shadow:var(--shadow-md);overflow:hidden;}
header{padding:1.75rem;border-bottom:1px solid var(--border);background:var(--primary-glow);}
h1{font-size:1.8rem;margin-bottom:.35rem;} .muted{color:var(--muted);}
.back{display:inline-flex;align-items:center;gap:.5rem;color:var(--text);text-decoration:none;font-weight:700;margin-bottom:1rem;}
main{padding:1.5rem;display:grid;gap:1.25rem;}
.panel{background:var(--surface);border:1px solid var(--border-light);border-radius:var(--radius-md);padding:1.25rem;box-shadow:var(--shadow-xs);}
textarea{width:100%;min-height:200px;border-radius:var(--radius-md);border:1px solid var(--border);background:var(--bg-alt);color:var(--text);padding:1rem;font-size:.95rem;font-family:inherit;resize:vertical;}
.stats-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(155px,1fr));gap:.75rem;margin-top:1rem;}
.stat{background:var(--bg-alt);border:1px solid var(--border-light);padding:.9rem 1rem;border-radius:var(--radius-md);text-align:center;}
.stat .label{color:var(--muted);font-size:.82rem;font-weight:600;margin-bottom:.25rem;}
.stat .value{font-size:1.35rem;font-weight:800;color:var(--primary);}
.kw-section{margin-top:1rem;}
.kw-section h3{font-size:.95rem;margin-bottom:.5rem;color:var(--muted);}
.kw-list{display:flex;flex-wrap:wrap;gap:.5rem;}
.kw-tag{background:var(--primary-glow);border:1px solid var(--primary-light);color:var(--primary);padding:.35rem .75rem;border-radius:var(--radius-full);font-size:.82rem;font-weight:600;}
.actions{display:flex;flex-wrap:wrap;gap:.6rem;margin-top:1rem;}
button{padding:.75rem 1.1rem;border-radius:var(--radius-md);border:none;cursor:pointer;background:linear-gradient(135deg,var(--primary),var(--primary-light));color:#fff;font-weight:700;font-size:.88rem;box-shadow:var(--shadow-sm);transition:transform .15s ease,box-shadow .15s ease;}
button:hover{transform:translateY(-1px);box-shadow:var(--shadow-md);}
.toast{position:fixed;bottom:2rem;right:2rem;background:var(--primary);color:#fff;padding:.85rem 1.5rem;border-radius:var(--radius-md);font-weight:600;box-shadow:var(--shadow-lg);transform:translateY(120%);opacity:0;transition:all .35s var(--ease-bounce);z-index:999;}
.toast.show{transform:translateY(0);opacity:1;}
</style>
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
</head>
<body>
<div class="wrap">
<header>
<a class="back" href="tools.html"><i class="fas fa-arrow-left"></i> Back to Tools</a>
<h1><i class="fas fa-file-word"></i> Word Counter</h1>
<p class="muted">Count words, characters, sentences, paragraphs, and reading time in real-time.</p>
</header>
<main>
<div class="panel">
<textarea id="text" placeholder="Start typing or paste your text here…"></textarea>
<div class="stats-grid">
<div class="stat"><div class="label">Characters (spaces)</div><div class="value" id="charsS">0</div></div>
<div class="stat"><div class="label">Characters (no spaces)</div><div class="value" id="charsNS">0</div></div>
<div class="stat"><div class="label">Words</div><div class="value" id="words">0</div></div>
<div class="stat"><div class="label">Sentences</div><div class="value" id="sentences">0</div></div>
<div class="stat"><div class="label">Paragraphs</div><div class="value" id="paragraphs">0</div></div>
<div class="stat"><div class="label">Avg Word Length</div><div class="value" id="avgLen">0</div></div>
<div class="stat"><div class="label">Reading Time</div><div class="value" id="readTime">0s</div></div>
<div class="stat"><div class="label">Speaking Time</div><div class="value" id="speakTime">0s</div></div>
</div>
<div class="kw-section">
<h3><i class="fas fa-chart-bar"></i> Top 5 Keywords</h3>
<div class="kw-list" id="keywords"><span class="kw-tag" style="opacity:.5">Type to see keywords…</span></div>
</div>
<div class="actions">
<button onclick="copyText()"><i class="fas fa-copy"></i> Copy Text</button>
<button onclick="clearText()"><i class="fas fa-eraser"></i> Clear</button>
</div>
</div>
</main>
</div>
<div class="toast" id="toast"></div>

<script>
const textEl=document.getElementById('text');
const stopWords=new Set(['the','a','an','in','on','at','to','for','of','and','but','or','is','it','this','that','was','with','as','by','be','are','from','has','had','have','not','no','do','did','will','would','can','could','should','so','if','its','he','she','we','they','them','you','i','my','me','his','her','our','am','been','were','being','than','also','just','about','into','more','very','some','all','other','which','what','when','where','who','how']);

function update(){
  const val=textEl.value;
  const charsS=val.length;
  const charsNS=val.replace(/\s/g,'').length;
  const wordList=val.trim()?val.trim().split(/\s+/):[];
  const wordCount=wordList.length;
  // Sentences: split by .!? followed by whitespace or end
  const sentMatches=val.match(/[^.!?]*[.!?](?:\s|$)/g);
  const sentCount=sentMatches?sentMatches.length:0;
  // Paragraphs: non-empty lines
  const paraCount=val.trim()?val.split(/\n+/).filter(l=>l.trim().length>0).length:0;
  // Avg word length
  const avgLen=wordCount?( wordList.reduce((s,w)=>s+w.length,0)/wordCount ).toFixed(1):'0';
  // Times
  const readMin=wordCount/200;
  const speakMin=wordCount/130;
  document.getElementById('charsS').textContent=charsS;
  document.getElementById('charsNS').textContent=charsNS;
  document.getElementById('words').textContent=wordCount;
  document.getElementById('sentences').textContent=sentCount;
  document.getElementById('paragraphs').textContent=paraCount;
  document.getElementById('avgLen').textContent=avgLen;
  document.getElementById('readTime').textContent=fmtTime(readMin);
  document.getElementById('speakTime').textContent=fmtTime(speakMin);
  // Keywords
  buildKeywords(wordList);
}

function fmtTime(min){
  const sec=Math.round(min*60);
  if(sec<60) return sec+'s';
  const m=Math.floor(sec/60), s=sec%60;
  return m+'m '+(s?s+'s':'');
}

function buildKeywords(wordList){
  const freq={};
  wordList.forEach(w=>{
    const lw=w.toLowerCase().replace(/[^a-z0-9'-]/g,'');
    if(lw.length>1 && !stopWords.has(lw)) freq[lw]=(freq[lw]||0)+1;
  });
  const sorted=Object.entries(freq).sort((a,b)=>b[1]-a[1]).slice(0,5);
  const container=document.getElementById('keywords');
  if(!sorted.length){container.innerHTML='<span class="kw-tag" style="opacity:.5">No keywords yet</span>';return;}
  container.innerHTML=sorted.map(([w,c])=>'<span class="kw-tag">'+w+' ('+c+')</span>').join('');
}

function copyText(){
  if(!textEl.value){showToast('Nothing to copy');return;}
  navigator.clipboard.writeText(textEl.value).then(()=>showToast('Text copied!'));
}
function clearText(){textEl.value='';update();showToast('Cleared');}

function showToast(msg){
  const t=document.getElementById('toast');t.textContent=msg;t.classList.add('show');
  setTimeout(()=>t.classList.remove('show'),2200);
}

textEl.addEventListener('input',update);
update();
</script>
<script src="js/global.js"></script>
</body>
</html>
